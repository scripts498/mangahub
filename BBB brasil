local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local CoreGui = game:GetService("CoreGui")
local RunService = game:GetService("RunService")
local Workspace = game:GetService("Workspace")

local LoadingGui = Instance.new("ScreenGui")
LoadingGui.Name = "MangaHubLoadingV2"
LoadingGui.ResetOnSpawn = false
LoadingGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
LoadingGui.IgnoreGuiInset = true
LoadingGui.Parent = CoreGui

local LoadingFrame = Instance.new("Frame")
LoadingFrame.Size = UDim2.fromScale(1, 1)
LoadingFrame.Position = UDim2.fromScale(0, 0)
LoadingFrame.BackgroundColor3 = Color3.fromRGB(5, 5, 8)
LoadingFrame.BorderSizePixel = 0
LoadingFrame.Parent = LoadingGui

local MeshGradient1 = Instance.new("Frame")
MeshGradient1.Size = UDim2.fromScale(1.5, 1.5)
MeshGradient1.Position = UDim2.fromScale(0.5, 0.5)
MeshGradient1.AnchorPoint = Vector2.new(0.5, 0.5)
MeshGradient1.BackgroundColor3 = Color3.fromRGB(255, 100, 0)
MeshGradient1.BackgroundTransparency = 0.7
MeshGradient1.BorderSizePixel = 0
MeshGradient1.Parent = LoadingFrame

local MeshGradient1Corner = Instance.new("UICorner")
MeshGradient1Corner.CornerRadius = UDim.new(1, 0)
MeshGradient1Corner.Parent = MeshGradient1

local MeshGradient2 = Instance.new("Frame")
MeshGradient2.Size = UDim2.fromScale(1.2, 1.2)
MeshGradient2.Position = UDim2.fromScale(0.3, 0.7)
MeshGradient2.AnchorPoint = Vector2.new(0.5, 0.5)
MeshGradient2.BackgroundColor3 = Color3.fromRGB(150, 0, 255)
MeshGradient2.BackgroundTransparency = 0.8
MeshGradient2.BorderSizePixel = 0
MeshGradient2.Parent = LoadingFrame

local MeshGradient2Corner = Instance.new("UICorner")
MeshGradient2Corner.CornerRadius = UDim.new(1, 0)
MeshGradient2Corner.Parent = MeshGradient2

local MeshGradient3 = Instance.new("Frame")
MeshGradient3.Size = UDim2.fromScale(0.8, 0.8)
MeshGradient3.Position = UDim2.fromScale(0.8, 0.3)
MeshGradient3.AnchorPoint = Vector2.new(0.5, 0.5)
MeshGradient3.BackgroundColor3 = Color3.fromRGB(0, 200, 255)
MeshGradient3.BackgroundTransparency = 0.85
MeshGradient3.BorderSizePixel = 0
MeshGradient3.Parent = LoadingFrame

local MeshGradient3Corner = Instance.new("UICorner")
MeshGradient3Corner.CornerRadius = UDim.new(1, 0)
MeshGradient3Corner.Parent = MeshGradient3

task.spawn(function()
    while LoadingFrame.Parent do
        local tween1 = TweenService:Create(MeshGradient1, TweenInfo.new(8, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
            Position = UDim2.fromScale(math.random(30, 70)/100, math.random(30, 70)/100),
            Rotation = math.random(0, 360)
        })
        local tween2 = TweenService:Create(MeshGradient2, TweenInfo.new(10, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
            Position = UDim2.fromScale(math.random(20, 80)/100, math.random(20, 80)/100),
            Rotation = math.random(0, 360)
        })
        local tween3 = TweenService:Create(MeshGradient3, TweenInfo.new(12, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
            Position = UDim2.fromScale(math.random(20, 80)/100, math.random(20, 80)/100),
            Rotation = math.random(0, 360)
        })
        tween1:Play()
        tween2:Play()
        tween3:Play()
        task.wait(4)
    end
end)

local ParticleContainer = Instance.new("Frame")
ParticleContainer.Size = UDim2.fromScale(1, 1)
ParticleContainer.Position = UDim2.fromScale(0, 0)
ParticleContainer.BackgroundTransparency = 1
ParticleContainer.Parent = LoadingFrame

local function createParticle()
    local particle = Instance.new("Frame")
    local size = math.random(2, 6)
    particle.Size = UDim2.fromOffset(size, size)
    particle.Position = UDim2.fromScale(math.random(), 1.1)
    particle.BackgroundColor3 = Color3.fromHSV(math.random(0, 40)/360, 0.8, 1)
    particle.BackgroundTransparency = math.random(40, 70) / 100
    particle.BorderSizePixel = 0
    particle.Parent = ParticleContainer
    
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(1, 0)
    corner.Parent = particle
    
    local trail = Instance.new("Frame")
    trail.Size = UDim2.fromOffset(size * 0.6, size * 3)
    trail.Position = UDim2.fromScale(0.5, 0.5)
    trail.AnchorPoint = Vector2.new(0.5, 0.5)
    trail.BackgroundColor3 = particle.BackgroundColor3
    trail.BackgroundTransparency = 0.9
    trail.BorderSizePixel = 0
    trail.Rotation = 180
    trail.Parent = particle
    
    local trailCorner = Instance.new("UICorner")
    trailCorner.CornerRadius = UDim.new(1, 0)
    trailCorner.Parent = trail
    
    local duration = math.random(3, 6)
    local tween = TweenService:Create(particle, TweenInfo.new(duration, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {
        Position = UDim2.fromScale(particle.Position.X.Scale, -0.1),
        BackgroundTransparency = 1
    })
    tween:Play()
    
    TweenService:Create(trail, TweenInfo.new(duration), {
        BackgroundTransparency = 1
    }):Play()
    
    tween.Completed:Connect(function()
        particle:Destroy()
    end)
end

task.spawn(function()
    while LoadingFrame.Parent do
        createParticle()
        task.wait(0.05)
    end
end)

local GlassContainer = Instance.new("Frame")
GlassContainer.Size = UDim2.fromOffset(600, 400)
GlassContainer.Position = UDim2.fromScale(0.5, 0.5)
GlassContainer.AnchorPoint = Vector2.new(0.5, 0.5)
GlassContainer.BackgroundColor3 = Color3.fromRGB(20, 20, 30)
GlassContainer.BackgroundTransparency = 0.1
GlassContainer.BorderSizePixel = 0
GlassContainer.ClipsDescendants = true
GlassContainer.Parent = LoadingFrame

local GlassCorner = Instance.new("UICorner")
GlassCorner.CornerRadius = UDim.new(0, 30)
GlassCorner.Parent = GlassContainer

local GlassStroke = Instance.new("UIStroke")
GlassStroke.Color = Color3.fromRGB(255, 140, 0)
GlassStroke.Thickness = 2
GlassStroke.Transparency = 0.3
GlassStroke.Parent = GlassContainer

local GlassGradient = Instance.new("UIGradient")
GlassGradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
    ColorSequenceKeypoint.new(0.5, Color3.fromRGB(200, 200, 220)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255))
}
GlassGradient.Rotation = 45
GlassGradient.Parent = GlassContainer

local NeonGlow = Instance.new("ImageLabel")
NeonGlow.Size = UDim2.fromScale(1.4, 1.4)
NeonGlow.Position = UDim2.fromScale(0.5, 0.5)
NeonGlow.AnchorPoint = Vector2.new(0.5, 0.5)
NeonGlow.BackgroundTransparency = 1
NeonGlow.Image = "rbxassetid://5028857084"
NeonGlow.ImageColor3 = Color3.fromRGB(255, 140, 0)
NeonGlow.ImageTransparency = 0.7
NeonGlow.ZIndex = 0
NeonGlow.Parent = GlassContainer

task.spawn(function()
    while NeonGlow.Parent do
        TweenService:Create(NeonGlow, TweenInfo.new(3, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
            ImageTransparency = 0.5,
            Size = UDim2.fromScale(1.5, 1.5)
        }):Play()
        task.wait(3)
        TweenService:Create(NeonGlow, TweenInfo.new(3, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
            ImageTransparency = 0.8,
            Size = UDim2.fromScale(1.3, 1.3)
        }):Play()
        task.wait(3)
    end
end)

local HolographicRing = Instance.new("Frame")
HolographicRing.Size = UDim2.fromOffset(180, 180)
HolographicRing.Position = UDim2.fromScale(0.5, 0.22)
HolographicRing.AnchorPoint = Vector2.new(0.5, 0.5)
HolographicRing.BackgroundTransparency = 1
HolographicRing.Parent = GlassContainer

for i = 1, 3 do
    local ring = Instance.new("Frame")
    ring.Size = UDim2.fromScale(1, 1)
    ring.Position = UDim2.fromScale(0.5, 0.5)
    ring.AnchorPoint = Vector2.new(0.5, 0.5)
    ring.BackgroundTransparency = 1
    ring.BorderSizePixel = 0
    ring.Parent = HolographicRing
    
    local ringStroke = Instance.new("UIStroke")
    ringStroke.Color = Color3.fromRGB(255, 140, 0)
    ringStroke.Thickness = 2
    ringStroke.Transparency = 0.7 - (i * 0.2)
    ringStroke.Parent = ring
    
    local ringCorner = Instance.new("UICorner")
    ringCorner.CornerRadius = UDim.new(1, 0)
    ringCorner.Parent = ring
    
    task.spawn(function()
        while HolographicRing.Parent do
            local delay = i * 0.3
            task.wait(delay)
            TweenService:Create(ring, TweenInfo.new(2, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut), {
                Size = UDim2.fromScale(1.5, 1.5),
                Rotation = 180
            }):Play()
            TweenService:Create(ringStroke, TweenInfo.new(2), {
                Transparency = 1
            }):Play()
            task.wait(2)
            ring.Size = UDim2.fromScale(0.5, 0.5)
            ringStroke.Transparency = 0.7 - (i * 0.2)
            TweenService:Create(ring, TweenInfo.new(0.5), {
                Size = UDim2.fromScale(1, 1),
                Rotation = 0
            }):Play()
        end
    end)
end

local LogoContainer = Instance.new("Frame")
LogoContainer.Size = UDim2.fromOffset(140, 140)
LogoContainer.Position = UDim2.fromScale(0.5, 0.22)
LogoContainer.AnchorPoint = Vector2.new(0.5, 0.5)
LogoContainer.BackgroundColor3 = Color3.fromRGB(255, 140, 0)
LogoContainer.BorderSizePixel = 0
LogoContainer.Parent = GlassContainer

local LogoContainerCorner = Instance.new("UICorner")
LogoContainerCorner.CornerRadius = UDim.new(0, 35)
LogoContainerCorner.Parent = LogoContainer

local LogoGlow = Instance.new("UIStroke")
LogoGlow.Color = Color3.fromRGB(255, 200, 100)
LogoGlow.Thickness = 4
LogoGlow.Transparency = 0.3
LogoGlow.Parent = LogoContainer

local Logo = Instance.new("TextLabel")
Logo.Size = UDim2.fromScale(1, 1)
Logo.BackgroundTransparency = 1
Logo.Text = "ü•≠"
Logo.TextScaled = true
Logo.TextColor3 = Color3.fromRGB(255, 255, 255)
Logo.Parent = LogoContainer

task.spawn(function()
    while LogoContainer.Parent do
        TweenService:Create(LogoContainer, TweenInfo.new(3, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
            Rotation = 10
        }):Play()
        TweenService:Create(LogoGlow, TweenInfo.new(1.5), {
            Thickness = 8,
            Transparency = 0
        }):Play()
        task.wait(3)
        TweenService:Create(LogoContainer, TweenInfo.new(3, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
            Rotation = -10
        }):Play()
        TweenService:Create(LogoGlow, TweenInfo.new(1.5), {
            Thickness = 4,
            Transparency = 0.3
        }):Play()
        task.wait(3)
    end
end)

local Title = Instance.new("TextLabel")
Title.Size = UDim2.fromScale(1, 0.12)
Title.Position = UDim2.fromScale(0, 0.42)
Title.BackgroundTransparency = 1
Title.Text = "MANGA HUB"
Title.TextColor3 = Color3.fromRGB(255, 160, 30)
Title.TextSize = 42
Title.Font = Enum.Font.GothamBlack
Title.Parent = GlassContainer

local TitleStroke = Instance.new("UIStroke")
TitleStroke.Color = Color3.fromRGB(0, 0, 0)
TitleStroke.Thickness = 4
TitleStroke.Parent = Title

task.spawn(function()
    while Title.Parent do
        TweenService:Create(Title, TweenInfo.new(2, Enum.EasingStyle.Sine), {
            TextColor3 = Color3.fromRGB(255, 200, 80)
        }):Play()
        task.wait(2)
        TweenService:Create(Title, TweenInfo.new(2, Enum.EasingStyle.Sine), {
            TextColor3 = Color3.fromRGB(255, 140, 0)
        }):Play()
        task.wait(2)
    end
end)

local Subtitle = Instance.new("TextLabel")
Subtitle.Size = UDim2.fromScale(1, 0.08)
Subtitle.Position = UDim2.fromScale(0, 0.52)
Subtitle.BackgroundTransparency = 1
Subtitle.Text = "BBB BRASIL V5.0 ‚Ä¢ PREMIUM EDITION"
Subtitle.TextColor3 = Color3.fromRGB(180, 180, 200)
Subtitle.TextSize = 18
Subtitle.Font = Enum.Font.GothamBold
Subtitle.Parent = GlassContainer

local SoundWaveContainer = Instance.new("Frame")
SoundWaveContainer.Size = UDim2.fromOffset(300, 40)
SoundWaveContainer.Position = UDim2.fromScale(0.5, 0.62)
SoundWaveContainer.AnchorPoint = Vector2.new(0.5, 0.5)
SoundWaveContainer.BackgroundTransparency = 1
SoundWaveContainer.Parent = GlassContainer

local bars = {}
for i = 1, 20 do
    local bar = Instance.new("Frame")
    bar.Size = UDim2.fromOffset(8, 10)
    bar.Position = UDim2.fromOffset((i-1) * 15, 20)
    bar.AnchorPoint = Vector2.new(0, 0.5)
    bar.BackgroundColor3 = Color3.fromHSV(30/360 + (i * 2)/360, 0.9, 1)
    bar.BorderSizePixel = 0
    bar.Parent = SoundWaveContainer
    
    local barCorner = Instance.new("UICorner")
    barCorner.CornerRadius = UDim.new(1, 0)
    barCorner.Parent = bar
    
    table.insert(bars, bar)
    
    task.spawn(function()
        while SoundWaveContainer.Parent do
            local height = math.random(5, 35)
            TweenService:Create(bar, TweenInfo.new(0.2, Enum.EasingStyle.Quad), {
                Size = UDim2.fromOffset(8, height)
            }):Play()
            task.wait(0.1 + (i * 0.02))
        end
    end)
end

local ProgressContainer = Instance.new("Frame")
ProgressContainer.Size = UDim2.fromOffset(500, 16)
ProgressContainer.Position = UDim2.fromScale(0.5, 0.72)
ProgressContainer.AnchorPoint = Vector2.new(0.5, 0.5)
ProgressContainer.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
ProgressContainer.BorderSizePixel = 0
ProgressContainer.Parent = GlassContainer

local ProgressContainerCorner = Instance.new("UICorner")
ProgressContainerCorner.CornerRadius = UDim.new(1, 0)
ProgressContainerCorner.Parent = ProgressContainer

local ProgressContainerStroke = Instance.new("UIStroke")
ProgressContainerStroke.Color = Color3.fromRGB(80, 80, 100)
ProgressContainerStroke.Thickness = 2
ProgressContainerStroke.Parent = ProgressContainer

local ProgressBar = Instance.new("Frame")
ProgressBar.Size = UDim2.fromOffset(0, 16)
ProgressBar.Position = UDim2.fromScale(0, 0)
ProgressBar.BackgroundColor3 = Color3.fromRGB(255, 140, 0)
ProgressBar.BorderSizePixel = 0
ProgressBar.Parent = ProgressContainer

local ProgressBarCorner = Instance.new("UICorner")
ProgressBarCorner.CornerRadius = UDim.new(1, 0)
ProgressBarCorner.Parent = ProgressBar

local ProgressGradient = Instance.new("UIGradient")
ProgressGradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 220, 100)),
    ColorSequenceKeypoint.new(0.5, Color3.fromRGB(255, 140, 0)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 80, 0))
}
ProgressGradient.Parent = ProgressBar

task.spawn(function()
    while ProgressBar.Parent do
        for i = 0, 360, 10 do
            if not ProgressBar.Parent then break end
            ProgressGradient.Rotation = i
            task.wait(0.05)
        end
    end
end)

local ProgressGlow = Instance.new("Frame")
ProgressGlow.Size = UDim2.fromOffset(80, 30)
ProgressGlow.Position = UDim2.fromScale(1, 0.5)
ProgressGlow.AnchorPoint = Vector2.new(0.5, 0.5)
ProgressGlow.BackgroundColor3 = Color3.fromRGB(255, 180, 50)
ProgressGlow.BackgroundTransparency = 0.4
ProgressGlow.BorderSizePixel = 0
ProgressGlow.ZIndex = 0
ProgressGlow.Parent = ProgressBar

local ProgressGlowCorner = Instance.new("UICorner")
ProgressGlowCorner.CornerRadius = UDim.new(1, 0)
ProgressGlowCorner.Parent = ProgressGlow

task.spawn(function()
    while ProgressGlow.Parent do
        TweenService:Create(ProgressGlow, TweenInfo.new(0.8, Enum.EasingStyle.Sine), {
            BackgroundTransparency = 0.1,
            Size = UDim2.fromOffset(100, 40)
        }):Play()
        task.wait(0.8)
        TweenService:Create(ProgressGlow, TweenInfo.new(0.8, Enum.EasingStyle.Sine), {
            BackgroundTransparency = 0.5,
            Size = UDim2.fromOffset(80, 30)
        }):Play()
        task.wait(0.8)
    end
end)

local ProgressText = Instance.new("TextLabel")
ProgressText.Size = UDim2.fromScale(1, 0.1)
ProgressText.Position = UDim2.fromScale(0, 0.8)
ProgressText.BackgroundTransparency = 1
ProgressText.Text = "0%"
ProgressText.TextColor3 = Color3.fromRGB(255, 255, 255)
ProgressText.TextSize = 28
ProgressText.Font = Enum.Font.GothamBlack
ProgressText.Parent = GlassContainer

local ProgressTextGlow = Instance.new("UIStroke")
ProgressTextGlow.Color = Color3.fromRGB(255, 140, 0)
ProgressTextGlow.Thickness = 3
ProgressTextGlow.Transparency = 0.3
ProgressTextGlow.Parent = ProgressText

local StatusText = Instance.new("TextLabel")
StatusText.Size = UDim2.fromScale(1, 0.08)
StatusText.Position = UDim2.fromScale(0, 0.88)
StatusText.BackgroundTransparency = 1
StatusText.Text = "Inicializando sistema..."
StatusText.TextColor3 = Color3.fromRGB(200, 200, 220)
StatusText.TextSize = 16
StatusText.Font = Enum.Font.GothamSemibold
StatusText.Parent = GlassContainer

local TechDecoration = Instance.new("Frame")
TechDecoration.Size = UDim2.fromOffset(100, 2)
TechDecoration.Position = UDim2.fromScale(0.05, 0.95)
TechDecoration.BackgroundColor3 = Color3.fromRGB(255, 140, 0)
TechDecoration.BorderSizePixel = 0
TechDecoration.Parent = GlassContainer

local TechDecoration2 = Instance.new("Frame")
TechDecoration2.Size = UDim2.fromOffset(2, 30)
TechDecoration2.Position = UDim2.fromScale(0.05, 0.87)
TechDecoration2.BackgroundColor3 = Color3.fromRGB(255, 140, 0)
TechDecoration2.BorderSizePixel = 0
TechDecoration2.Parent = GlassContainer

local TechDecoration3 = Instance.new("Frame")
TechDecoration3.Size = UDim2.fromOffset(100, 2)
TechDecoration3.Position = UDim2.fromScale(0.95, 0.05)
TechDecoration3.AnchorPoint = Vector2.new(1, 0)
TechDecoration3.BackgroundColor3 = Color3.fromRGB(255, 140, 0)
TechDecoration3.BorderSizePixel = 0
TechDecoration3.Parent = GlassContainer

local TechDecoration4 = Instance.new("Frame")
TechDecoration4.Size = UDim2.fromOffset(2, 30)
TechDecoration4.Position = UDim2.fromScale(0.95, 0.05)
TechDecoration4.AnchorPoint = Vector2.new(1, 0)
TechDecoration4.BackgroundColor3 = Color3.fromRGB(255, 140, 0)
TechDecoration4.BorderSizePixel = 0
TechDecoration4.Parent = GlassContainer

local function animateLoading()
    local startTime = tick()
    local duration = 12
    local messages = {
        {progress = 0, text = "‚ö° Inicializando n√∫cleo do sistema..."},
        {progress = 12, text = "üîÆ Carregando interface..."},
        {progress = 28, text = "üåê Estabelecendo conex√£o segura..."},
        {progress = 45, text = "üì° Sincronizando com servidores..."},
        {progress = 62, text = "üó≥Ô∏è Ativando m√≥dulo de vota√ß√£o..."},
        {progress = 78, text = "‚öôÔ∏è Compilando scripts avan√ßados..."},
        {progress = 90, text = "‚ú® Aplicando efeitos visuais..."},
        {progress = 100, text = "‚úÖ Sistema pronto!"}
    }

    local index = 1

    while true do
        local elapsed = tick() - startTime
        local progress = math.min((elapsed / duration) * 100, 100)

        TweenService:Create(ProgressBar, TweenInfo.new(0.1, Enum.EasingStyle.Quad), {
            Size = UDim2.fromOffset((progress / 100) * 500, 16)
        }):Play()
        
        ProgressText.Text = string.format("%d%%", math.floor(progress))

        if index <= #messages and progress >= messages[index].progress then
            local fadeOut = TweenService:Create(StatusText, TweenInfo.new(0.2), {TextTransparency = 1})
            fadeOut:Play()
            fadeOut.Completed:Wait()
            
            StatusText.Text = messages[index].text
            
            local fadeIn = TweenService:Create(StatusText, TweenInfo.new(0.2), {TextTransparency = 0})
            fadeIn:Play()
            
            index += 1
        end

        if progress >= 100 then
            break
        end

        task.wait()
    end

    task.wait(1)

    for _, bar in ipairs(bars) do
        TweenService:Create(bar, TweenInfo.new(0.5), {
            BackgroundTransparency = 1
        }):Play()
    end
    
    TweenService:Create(GlassContainer, TweenInfo.new(0.8, Enum.EasingStyle.Back, Enum.EasingDirection.In), {
        Size = UDim2.fromOffset(0, 0),
        Rotation = 720
    }):Play()
    
    TweenService:Create(LoadingFrame, TweenInfo.new(1), {
        BackgroundTransparency = 1
    }):Play()
    
    for _, particle in ipairs(ParticleContainer:GetChildren()) do
        TweenService:Create(particle, TweenInfo.new(0.5), {
            BackgroundTransparency = 1
        }):Play()
    end
    
    task.wait(1)
    LoadingGui:Destroy()
end

task.spawn(animateLoading)

UserInputService.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        local mousePos = UserInputService:GetMouseLocation()
        local centerX = workspace.CurrentCamera.ViewportSize.X / 2
        local centerY = workspace.CurrentCamera.ViewportSize.Y / 2
        
        local offsetX = (mousePos.X - centerX) / centerX
        local offsetY = (mousePos.Y - centerY) / centerY
        
        TweenService:Create(GlassContainer, TweenInfo.new(0.3), {
            Rotation = offsetX * 5,
            Position = UDim2.fromScale(0.5 + offsetX * 0.02, 0.5 + offsetY * 0.02)
        }):Play()
    end
end)

task.wait(1)

local isMobile = UserInputService.TouchEnabled and not UserInputService.KeyboardEnabled

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "MangaHubMinimizeButton"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = CoreGui

local Button = Instance.new("TextButton")
Button.Size = isMobile and UDim2.fromOffset(30, 30) or UDim2.fromOffset(50, 50)
Button.Position = UDim2.new(0, 50, 0, 50)
Button.BackgroundColor3 = Color3.fromRGB(255, 140, 0)
Button.Text = "ü•≠"
Button.TextScaled = true
Button.TextColor3 = Color3.fromRGB(255, 255, 255)
Button.BorderSizePixel = 0
Button.AnchorPoint = Vector2.new(0.5, 0.5)
Button.Parent = ScreenGui

local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(1,0)
UICorner.Parent = Button

local dragging, dragInput, dragStart, startPos

local function update(input)
    local delta = input.Position - dragStart
    Button.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end

Button.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = true
        dragStart = input.Position
        startPos = Button.Position
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

Button.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
        dragInput = input
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        update(input)
    end
end)

getgenv().MangaHubWindow = nil
local minimized = false

Button.MouseButton1Click:Connect(function()
    if getgenv().MangaHubWindow then
        if minimized then
            getgenv().MangaHubWindow:Show()
            getgenv().MangaHubWindow.Frame.Visible = true
            minimized = false
        else
            getgenv().MangaHubWindow:Minimize()
            getgenv().MangaHubWindow.Frame.Visible = false
            minimized = true
        end
    end
end)

local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()
local SaveManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/SaveManager.lua"))()
local InterfaceManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/InterfaceManager.lua"))()

local windowSize = isMobile and UDim2.fromOffset(400, 300) or UDim2.fromOffset(580, 460)
local tabWidth = isMobile and 120 or 160

local Window = Fluent:CreateWindow({
    Title = "manga hub/V4.8/Brasil",
    SubTitle = "BBB Brasil",
    TabWidth = tabWidth,
    Size = windowSize,
    Acrylic = true,
    Theme = "Dark",
    MinimizeKey = Enum.KeyCode.LeftControl
})

getgenv().MangaHubWindow = Window

local Tabs = {
    Main = Window:AddTab({ Title = "Vota√ß√£o", Icon = "check-square" }),
    Player = Window:AddTab({ Title = "Player", Icon = "user" }),
    Teleport = Window:AddTab({ Title = "Teleport", Icon = "map-pin" }),
    Evento = Window:AddTab({ Title = "Evento", Icon = "star" })
}

local Options = Fluent.Options
local LocalPlayer = Players.LocalPlayer

local Remotes = ReplicatedStorage:WaitForChild("Remotes")
local VoteRemote = Remotes:WaitForChild("üåÉüïãüöá‚òÑ")

local selectedPlayer = nil
local votingEnabled = false
local votingThread = nil

local function getPlayerList()
    local list = { LocalPlayer.Name }
    for _, p in ipairs(Players:GetPlayers()) do
        if p ~= LocalPlayer then
            list[#list+1] = p.Name
        end
    end
    return list
end

local function votePlayer(playerName)
    if not playerName then return end
    VoteRemote:FireServer(playerName, 5)
end

local Dropdown = Tabs.Main:AddDropdown("PlayerDropdown", {
    Title = "Selecionar Jogador",
    Values = getPlayerList(),
    Multi = false,
    Default = 1
})

Dropdown:OnChanged(function(value)
    selectedPlayer = value
end)

Tabs.Main:AddButton({
    Title = "Atualizar Lista",
    Callback = function()
        Dropdown:SetValues(getPlayerList())
        Fluent:Notify({ Title = "Lista Atualizada", Content = "A lista de jogadores foi atualizada!", Duration = 3 })
    end
})

local Toggle = Tabs.Main:AddToggle("VoteToggle", {
    Title = "Votar nesta pessoa ( melhorado )",
    Default = false
})

Toggle:OnChanged(function()
    votingEnabled = Options.VoteToggle.Value

    if votingEnabled then
        if not selectedPlayer or selectedPlayer == "" then
            Fluent:Notify({ Title = "Erro", Content = "Selecione um jogador primeiro!", Duration = 4 })
            Options.VoteToggle:SetValue(false)
            return
        end

        votingThread = task.spawn(function()
            local connection
            connection = RunService.Heartbeat:Connect(function()
                if not votingEnabled then 
                    connection:Disconnect()
                    return 
                end
                for i = 1, 7 do
                    votePlayer(selectedPlayer)
                end
            end)
        end)

        Fluent:Notify({ Title = "Vota√ß√£o Iniciada", Content = "Votando R√ÅPIDO em: " .. selectedPlayer, Duration = 3 })
    else
        votingEnabled = false
        Fluent:Notify({ Title = "Vota√ß√£o Parada", Content = "A vota√ß√£o foi interrompida!", Duration = 3 })
    end
end)


Tabs.Main:AddParagraph({
    Title = "Informa√ß√µes",
    Content = "Use apenas em pessoas no pared√£o.\n\nQuando ativado:\n‚Ä¢ 95% de chance da pessoa sair\n‚Ä¢ 5% de chance de n√£o sair"
})

local velocidadeValue = 16
local speedEnabled = false
local speedCoroutine = nil

Tabs.Player:AddInput("Velocidade", {
    Title = "Velocidade",
    Default = "16",
    Numeric = true,
    Callback = function(Value)
        velocidadeValue = tonumber(Value) or 16
    end
})

Tabs.Player:AddToggle("PegarVelocidade", {
    Title = "Pegar Velocidade",
    Default = false,
    Callback = function(Value)
        speedEnabled = Value

        if speedEnabled then
            speedCoroutine = coroutine.create(function()
                while speedEnabled do
                    local char = LocalPlayer.Character
                    local hum = char and char:FindFirstChild("Humanoid")
                    if hum then hum.WalkSpeed = velocidadeValue end
                    task.wait()
                end
            end)
            coroutine.resume(speedCoroutine)

            Fluent:Notify({ Title = "Velocidade Ativada", Content = "Velocidade: " .. velocidadeValue, Duration = 3 })
        else
            local hum = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid")
            if hum then hum.WalkSpeed = 16 end

            Fluent:Notify({ Title = "Velocidade Desativada", Content = "Velocidade normal restaurada", Duration = 3 })
        end
    end
})

local selectedTpPlayer = nil

local TpDropdown = Tabs.Teleport:AddDropdown("TpPlayerDropdown", {
    Title = "Players",
    Values = getPlayerList(),
    Multi = false,
    Default = 1
})

TpDropdown:OnChanged(function(Value)
    selectedTpPlayer = Value
end)

Tabs.Teleport:AddButton({
    Title = "Atualizar Lista",
    Callback = function()
        TpDropdown:SetValues(getPlayerList())
        Fluent:Notify({ Title = "Lista Atualizada", Content = "Lista atualizada com sucesso", Duration = 3 })
    end
})

Tabs.Teleport:AddButton({
    Title = "TP para esse player",
    Callback = function()
        if not selectedTpPlayer or selectedTpPlayer == "" then
            Fluent:Notify({ Title = "Erro", Content = "Selecione um jogador primeiro!", Duration = 4 })
            return
        end

        local target = Players:FindFirstChild(selectedTpPlayer)
        local myChar = LocalPlayer.Character
        local myRoot = myChar and myChar:FindFirstChild("HumanoidRootPart")

        if target and target.Character and target.Character:FindFirstChild("HumanoidRootPart") and myRoot then
            myRoot.CFrame = target.Character.HumanoidRootPart.CFrame
            Fluent:Notify({ Title = "Teleportado", Content = "Voc√™ foi at√© " .. selectedTpPlayer, Duration = 3 })
        else
            Fluent:Notify({ Title = "Erro", Content = "Jogador inv√°lido ou sem personagem", Duration = 4 })
        end
    end
})

local autoJogoEnabled = false
local detectionPart = nil
local processed = {}
local DEBOUNCE_TIME = 0.5

local DETECTION_SIZE = Vector3.new(14, 6, 1200)
local DETECTION_OFFSET = Vector3.new(0, 1, 0)

local frutas = {
    banana=true, orange=true, apple=true, grape=true, watermelon=true,
    strawberry=true, pineapple=true, mango=true, cherry=true, lemon=true,
    peach=true, pear=true, kiwi=true,
    laranja=true, maca=true, uva=true, melancia=true, morango=true,
    abacaxi=true, manga=true, cereja=true, limao=true, pessego=true, pera=true
}

local function ehFruta(nome)
    nome = string.lower(nome)
    if nome == "bomb" or string.find(nome, "^bomb$") then return false end
    for fruta, _ in pairs(frutas) do
        if string.find(nome, fruta) then return true end
    end
    return false
end

local function baterNaFruta()
    local minigame = Workspace:FindFirstChild("MinigameCrazykitchen")
    if not minigame then return end
    local remote = minigame:FindFirstChild("üçé2")
    if remote and remote:IsA("RemoteEvent") then
        remote:FireServer()
    end
end

local function removerDetectionPart()
    if detectionPart then
        detectionPart:Destroy()
        detectionPart = nil
    end
end

local function criarDetectionPart()
    removerDetectionPart()
    local char = LocalPlayer.Character
    if not char then return end
    local hrp = char:FindFirstChild("HumanoidRootPart")
    if not hrp then return end

    local part = Instance.new("Part")
    part.Name = "FruitDetector"
    part.Anchored = true
    part.CanCollide = false
    part.Transparency = 0.65
    part.Material = Enum.Material.Neon
    part.Color = Color3.fromRGB(0, 120, 255)
    part.Size = DETECTION_SIZE
    part.Parent = Workspace
    detectionPart = part
    
    detectionPart.CFrame = hrp.CFrame * CFrame.new(DETECTION_OFFSET)
end

local overlapParams = OverlapParams.new()
overlapParams.FilterType = Enum.RaycastFilterType.Blacklist

local connection

local function startDetection()
    if connection then return end
    
    connection = RunService.Heartbeat:Connect(function()
        if not autoJogoEnabled or not detectionPart then return end

        local char = LocalPlayer.Character
        local hrp = char and char:FindFirstChild("HumanoidRootPart")
        if not hrp then return end

        detectionPart.CFrame = hrp.CFrame * CFrame.new(DETECTION_OFFSET)
        
        overlapParams.FilterDescendantsInstances = {char, detectionPart}
        local parts = Workspace:GetPartsInPart(detectionPart, overlapParams)
        
        local agora = tick()
        
        for _, part in ipairs(parts) do
            local nome = part.Name
            local ultimoProcessado = processed[part]
            
            if (not ultimoProcessado or agora - ultimoProcessado > DEBOUNCE_TIME) and ehFruta(nome) then
                processed[part] = agora
                baterNaFruta()
            end
        end
        
        for part, tempo in pairs(processed) do
            if agora - tempo > DEBOUNCE_TIME * 2 then
                processed[part] = nil
            end
        end
    end)
end

local function stopDetection()
    if connection then
        connection:Disconnect()
        connection = nil
    end
    processed = {}
    removerDetectionPart()
end

Tabs.Evento:AddToggle("AutoJogoToggle", {
    Title = "Auto Jogo de Bater em Fruta",
    Default = false,
    Callback = function(Value)
        autoJogoEnabled = Value
        if autoJogoEnabled then
            criarDetectionPart()
            startDetection()
            Fluent:Notify({
                Title = "Auto Jogo Ativado",
                Content = "Detectando frutas automaticamente.",
                Duration = 3
            })
        else
            stopDetection()
            Fluent:Notify({
                Title = "Auto Jogo Desativado",
                Content = "Auto jogo desligado.",
                Duration = 3
            })
        end
    end
})

Tabs.Evento:AddParagraph({
    Title = "Informa√ß√µes",
    Content = "Ele bate nas frutas automaticamente, ignorando as bombas."
})

local autoLavaEnabled = false
local autoLavaCoroutine = nil
local bodyPosition = nil
local frozenPosition = nil

local function congelarPlayer()
    if not LocalPlayer.Character then return end
    local hrp = LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
    if not hrp then return end

    frozenPosition = hrp.CFrame.Position
    if not bodyPosition then
        bodyPosition = Instance.new("BodyPosition")
        bodyPosition.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
        bodyPosition.D = 1000
        bodyPosition.P = 10000
        bodyPosition.Parent = hrp
    end
    bodyPosition.Position = frozenPosition
end

local function descongelarPlayer()
    if bodyPosition then
        bodyPosition:Destroy()
        bodyPosition = nil
    end
    frozenPosition = nil
end

local function verificarEDestruirBolaDeFogo()
    local lavaModel = Workspace:FindFirstChild("Lava")
    if not lavaModel then return end
    for _, obj in pairs(lavaModel:GetDescendants()) do
        if obj:IsA("BasePart") and obj.Name == "BolaDeFogo" then
            obj:Destroy()
        end
    end
end

Tabs.Evento:AddToggle("AutoLavaToggle", {
    Title = "Auto Jogo de Lava",
    Default = false,
    Callback = function(Value)
        autoLavaEnabled = Value
        if autoLavaEnabled then
            Fluent:Notify({
                Title = "Auto Lava Ativado",
                Content = "Voc√™ est√° congelado e protegido!",
                Duration = 3
            })
            congelarPlayer()
            autoLavaCoroutine = coroutine.create(function()
                while autoLavaEnabled do
                    verificarEDestruirBolaDeFogo()
                    if frozenPosition and LocalPlayer.Character then
                        local hrp = LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
                        if hrp and bodyPosition then
                            bodyPosition.Position = frozenPosition
                        end
                    end
                    task.wait(0)
                end
            end)
            coroutine.resume(autoLavaCoroutine)
        else
            autoLavaEnabled = false
            descongelarPlayer()
            Fluent:Notify({
                Title = "Auto Lava Desativado",
                Content = "Voc√™ pode se mover novamente!",
                Duration = 3
            })
        end
    end
})

Tabs.Evento:AddParagraph({
    Title = "Informa√ß√µes Auto Lava",
    Content = "Esta fun√ß√£o:\n- Te congela no lugar\n- Deleta automaticamente BolaDeFogo do model Lava\n- Voc√™ fica flutuando se o ch√£o sumir"
})

SaveManager:SetLibrary(Fluent)
InterfaceManager:SetLibrary(Fluent)
SaveManager:IgnoreThemeSettings()






