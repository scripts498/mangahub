local TweenService = game:GetService("TweenService")
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local char = player.Character or player.CharacterAdded:Wait()
local hrp = char:WaitForChild("HumanoidRootPart")

local collecting = false
local gui
local currentTarget = nil
local function createGUI()
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "EggHuntGUI"
    screenGui.ResetOnSpawn = false
    screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    
    local mainFrame = Instance.new("Frame")
    mainFrame.Name = "MainFrame"
    mainFrame.Size = UDim2.new(0, 320, 0, 180)
    mainFrame.Position = UDim2.new(0.5, -160, 0.5, -90)
    mainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 30)
    mainFrame.BorderSizePixel = 0
    mainFrame.Active = true
    mainFrame.Draggable = true
    mainFrame.Parent = screenGui
    
    local uiCorner = Instance.new("UICorner")
    uiCorner.CornerRadius = UDim.new(0, 12)
    uiCorner.Parent = mainFrame
    
    local uiStroke = Instance.new("UIStroke")
    uiStroke.Color = Color3.fromRGB(100, 100, 255)
    uiStroke.Thickness = 2
    uiStroke.Transparency = 0.5
    uiStroke.Parent = mainFrame
    
    local uiGradient = Instance.new("UIGradient")
    uiGradient.Color = ColorSequence.new{
        ColorSequenceKeypoint.new(0, Color3.fromRGB(80, 80, 200)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(200, 80, 200))
    }
    uiGradient.Rotation = 45
    uiGradient.Parent = uiStroke
    
    local title = Instance.new("TextLabel")
    title.Name = "Title"
    title.Size = UDim2.new(1, -40, 0, 50)
    title.Position = UDim2.new(0, 20, 0, 15)
    title.BackgroundTransparency = 1
    title.Text = "ü•ö Egg Hunt Collector"
    title.TextColor3 = Color3.fromRGB(255, 255, 255)
    title.TextSize = 22
    title.Font = Enum.Font.GothamBold
    title.TextXAlignment = Enum.TextXAlignment.Left
    title.Parent = mainFrame
    
    local status = Instance.new("TextLabel")
    status.Name = "Status"
    status.Size = UDim2.new(1, -40, 0, 30)
    status.Position = UDim2.new(0, 20, 0, 70)
    status.BackgroundTransparency = 1
    status.Text = "Status: Aguardando..."
    status.TextColor3 = Color3.fromRGB(200, 200, 200)
    status.TextSize = 14
    status.Font = Enum.Font.Gotham
    status.TextXAlignment = Enum.TextXAlignment.Left
    status.Parent = mainFrame
    
    local toggleBtn = Instance.new("TextButton")
    toggleBtn.Name = "ToggleButton"
    toggleBtn.Size = UDim2.new(1, -40, 0, 45)
    toggleBtn.Position = UDim2.new(0, 20, 0, 115)
    toggleBtn.BackgroundColor3 = Color3.fromRGB(60, 180, 120)
    toggleBtn.Text = "‚ñ∂ Come√ßar a Pegar Lego"
    toggleBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
    toggleBtn.TextSize = 16
    toggleBtn.Font = Enum.Font.GothamBold
    toggleBtn.BorderSizePixel = 0
    toggleBtn.Parent = mainFrame
    
    local btnCorner = Instance.new("UICorner")
    btnCorner.CornerRadius = UDim.new(0, 8)
    btnCorner.Parent = toggleBtn
    
    toggleBtn.MouseEnter:Connect(function()
        TweenService:Create(toggleBtn, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(70, 200, 140)}):Play()
    end)
    
    toggleBtn.MouseLeave:Connect(function()
        local color = collecting and Color3.fromRGB(220, 60, 60) or Color3.fromRGB(60, 180, 120)
        TweenService:Create(toggleBtn, TweenInfo.new(0.2), {BackgroundColor3 = color}):Play()
    end)
    
    screenGui.Parent = game:GetService("CoreGui")
    
    return screenGui, mainFrame, status, toggleBtn
end
local function updateStatus(text, color)
    if gui then
        local statusLabel = gui.MainFrame.Status
        statusLabel.Text = "Status: " .. text
        if color then
            statusLabel.TextColor3 = color
        end
    end
end

local function findNextTarget()
    local eggHuntFolder = game.Workspace:FindFirstChild("EggHunt")
    if not eggHuntFolder then
        return nil
    end
    
    for _, obj in pairs(eggHuntFolder:GetChildren()) do
        if obj:IsA("BasePart") or obj:IsA("Model") then
            return obj
        end
    end
    
    return nil
end

local function teleportToTarget(target)
    if not target then return end
    
    local targetPos
    if target:IsA("Model") then
        local primary = target.PrimaryPart or target:FindFirstChildWhichIsA("BasePart")
        if primary then
            targetPos = primary.Position
        end
    else
        targetPos = target.Position
    end
    
    if targetPos then
        hrp.CFrame = CFrame.new(targetPos + Vector3.new(0, 3, 0))
    end
end

local connection
local function startCollecting()
    collecting = true
    updateStatus("Coletando ovos...", Color3.fromRGB(100, 255, 100))
    
    connection = RunService.Heartbeat:Connect(function()
        if not collecting then
            if connection then
                connection:Disconnect()
            end
            return
        end
        
        char = player.Character
        if not char then return end
        hrp = char:FindFirstChild("HumanoidRootPart")
        if not hrp then return end
        
        if currentTarget and currentTarget.Parent then
            teleportToTarget(currentTarget)
        else
            currentTarget = findNextTarget()
            
            if currentTarget then
                teleportToTarget(currentTarget)
                updateStatus("Pegando: " .. currentTarget.Name, Color3.fromRGB(255, 200, 100))
            else
                collecting = false
                updateStatus("Coleta completa!", Color3.fromRGB(100, 255, 100))
                
                local toggleBtn = gui.MainFrame.ToggleButton
                toggleBtn.Text = "‚ñ∂ Come√ßar a Pegar Lego"
                toggleBtn.BackgroundColor3 = Color3.fromRGB(60, 180, 120)
                
                if connection then
                    connection:Disconnect()
                end
            end
        end
    end)
end

local function stopCollecting()
    collecting = false
    currentTarget = nil
    updateStatus("Parado", Color3.fromRGB(255, 100, 100))
    if connection then
        connection:Disconnect()
    end
end
gui = createGUI()
local mainFrame = gui.MainFrame
local statusLabel = mainFrame.Status
local toggleBtn = mainFrame.ToggleButton

toggleBtn.MouseButton1Click:Connect(function()
    collecting = not collecting
    
    if collecting then
        toggleBtn.Text = "‚è∏ Parar de Pegar Lego"
        toggleBtn.BackgroundColor3 = Color3.fromRGB(220, 60, 60)
        startCollecting()
    else
        toggleBtn.Text = "‚ñ∂ Come√ßar a Pegar Lego"
        toggleBtn.BackgroundColor3 = Color3.fromRGB(60, 180, 120)
        stopCollecting()
    end
end)

mainFrame.Position = UDim2.new(0.5, -160, -0.5, 0)
TweenService:Create(mainFrame, TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
    Position = UDim2.new(0.5, -160, 0.5, -90)
}):Play()

print("Egg Hunt Collector carregado | Criador: slamnnaosei8 | YT: @alexsilvio6901")
